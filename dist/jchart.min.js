(function(){function t(t){return t.charCodeAt(0)}function i(){return D.pop()||[]}function n(t){return"function"!=typeof t.toString&&"string"==typeof(t+"")}function o(t){t.length=0,D.length<H&&D.push(t)}function s(t,i,n){i||(i=0),"undefined"==typeof n&&(n=t?t.length:0);for(var o=-1,s=n-i||0,e=Array(0>s?0:s);++o<s;)e[o]=t[i+o];return e}function e(){}function r(t){function i(){if(o){var t=s(o);mi.apply(t,arguments)}if(this instanceof i){var r=a(n.prototype),h=n.apply(r,t||arguments);return m(h)?h:r}return n.apply(e,t||arguments)}var n=t[0],o=t[2],e=t[4];return Si(i,t),i}function a(t){return m(t)?Ai(t):{}}function h(t,i,n){if("function"!=typeof t)return L;if("undefined"==typeof i||!("prototype"in t))return t;var o=t.__bindData__;if("undefined"==typeof o&&(ji.funcNames&&(o=!t.name),o=o||!ji.funcDecomp,!o)){var s=gi.call(t);ji.funcNames||(o=!Y.test(s)),o||(o=K.test(s),Si(t,o))}if(o===!1||o!==!0&&1&o[1])return t;switch(n){case 1:return function(n){return t.call(i,n)};case 2:return function(n,o){return t.call(i,n,o)};case 3:return function(n,o,s){return t.call(i,n,o,s)};case 4:return function(n,o,s,e){return t.call(i,n,o,s,e)}}return T(t,i)}function l(t){function i(){var t=c?h:this;if(e){var x=s(e);mi.apply(x,arguments)}if((r||d)&&(x||(x=s(arguments)),r&&mi.apply(x,r),d&&x.length<p))return o|=16,l([n,f?o:-4&o,x,null,h,p]);if(x||(x=arguments),u&&(n=t[g]),this instanceof i){t=a(n.prototype);var y=n.apply(t,x);return m(y)?y:t}return n.apply(t,x)}var n=t[0],o=t[1],e=t[2],r=t[3],h=t[4],p=t[5],c=1&o,u=2&o,d=4&o,f=8&o,g=n;return Si(i,t),i}function p(t,s,e,r,a,h){if(e){var l=e(t,s);if("undefined"!=typeof l)return!!l}if(t===s)return 0!==t||1/t==1/s;var c=typeof t,u=typeof s;if(!(t!==t||t&&si[c]||s&&si[u]))return!1;if(null==t||null==s)return t===s;var d=di.call(t),f=di.call(s);if(d==q&&(d=Z),f==q&&(f=Z),d!=f)return!1;switch(d){case J:case $:return+t==+s;case U:return t!=+t?s!=+s:0==t?1/t==1/s:t==+s;case ti:case ii:return t==String(s)}var g=d==G;if(!g){var m=yi.call(t,"__wrapped__"),v=yi.call(s,"__wrapped__");if(m||v)return p(m?t.__wrapped__:t,v?s.__wrapped__:s,e,r,a,h);if(d!=Z||!ji.nodeClass&&(n(t)||n(s)))return!1;var _=!ji.argsObject&&x(t)?Object:t.constructor,b=!ji.argsObject&&x(s)?Object:s.constructor;if(_!=b&&!(y(_)&&_ instanceof _&&y(b)&&b instanceof b)&&"constructor"in t&&"constructor"in s)return!1}var A=!a;a||(a=i()),h||(h=i());for(var w=a.length;w--;)if(a[w]==t)return h[w]==s;var k=0;if(l=!0,a.push(t),h.push(s),g){if(w=t.length,k=s.length,l=k==w,l||r)for(;k--;){var P=w,j=s[k];if(r)for(;P--&&!(l=p(t[P],j,e,r,a,h)););else if(!(l=p(t[k],j,e,r,a,h)))break}}else Ci(s,function(i,n,o){return yi.call(o,n)?(k++,l=yi.call(t,n)&&p(t[n],i,e,r,a,h)):void 0}),l&&!r&&Ci(t,function(t,i,n){return yi.call(n,i)?l=--k>-1:void 0});return a.pop(),h.pop(),A&&(o(a),o(h)),l}function c(t,i,n,o,s){(Li(i)?A:Mi)(i,function(i,e){var r,a,h=i,l=t[e];if(i&&((a=Li(i))||Bi(i))){for(var p=o.length;p--;)if(r=o[p]==i){l=s[p];break}if(!r){var u;n&&(h=n(l,i),(u="undefined"!=typeof h)&&(l=h)),u||(l=a?Li(l)?l:[]:Bi(l)?l:{}),o.push(i),s.push(l),u||c(l,i,n,o,s)}}else n&&(h=n(l,i),"undefined"==typeof h&&(h=i)),"undefined"!=typeof h&&(l=h);t[e]=l})}function u(t,i,n,o,e,a){var h=1&i,p=2&i,c=4&i,d=16&i,f=32&i;if(!p&&!y(t))throw new TypeError;d&&!n.length&&(i&=-17,d=n=!1),f&&!o.length&&(i&=-33,f=o=!1);var g=t&&t.__bindData__;if(g&&g!==!0)return g=s(g),g[2]&&(g[2]=s(g[2])),g[3]&&(g[3]=s(g[3])),!h||1&g[1]||(g[4]=e),!h&&1&g[1]&&(i|=8),!c||4&g[1]||(g[5]=a),d&&mi.apply(g[2]||(g[2]=[]),n),f&&_i.apply(g[3]||(g[3]=[]),o),g[1]|=i,u.apply(null,g);var x=1==i||17===i?r:l;return x([t,i,n,o,e,a])}function d(){oi.shadowedProps=V,oi.array=oi.bottom=oi.loop=oi.top="",oi.init="iterable",oi.useHas=!0;for(var t,i=0;t=arguments[i];i++)for(var n in t)oi[n]=t[n];var o=oi.args;oi.firstArg=/^[^,]+/.exec(o)[0];var s=Function("baseCreateCallback, errorClass, errorProto, hasOwnProperty, indicatorObject, isArguments, isArray, isString, keys, objectProto, objectTypes, nonEnumProps, stringClass, stringProto, toString","return function("+o+") {\n"+Ti(oi)+"\n}");return s(h,X,pi,yi,N,x,Li,v,oi.keys,ci,si,Pi,ii,ui,di)}function f(t){return"function"==typeof t&&fi.test(t)}function g(t){var i,o;return!t||di.call(t)!=Z||(i=t.constructor,y(i)&&!(i instanceof i))||!ji.argsClass&&x(t)||!ji.nodeClass&&n(t)?!1:ji.ownLast?(Ci(t,function(t,i,n){return o=yi.call(n,i),!1}),o!==!1):(Ci(t,function(t,i){o=i}),"undefined"==typeof o||yi.call(t,o))}function x(t){return t&&"object"==typeof t&&"number"==typeof t.length&&di.call(t)==q||!1}function y(t){return"function"==typeof t}function m(t){return!(!t||!si[typeof t])}function v(t){return"string"==typeof t||t&&"object"==typeof t&&di.call(t)==ii||!1}function _(t){var n=arguments,e=2;if(!m(t))return t;if("number"!=typeof n[2]&&(e=n.length),e>3&&"function"==typeof n[e-2])var r=h(n[--e-1],n[e--],2);else e>2&&"function"==typeof n[e-1]&&(r=n[--e]);for(var a=s(arguments,1,e),l=-1,p=i(),u=i();++l<e;)c(t,a[l],r,p,u);return o(p),o(u),t}function b(t,i,n){var o=[];if(i=e.createCallback(i,n,3),Li(t))for(var s=-1,r=t.length;++s<r;){var a=t[s];i(a,s,t)&&o.push(a)}else Ri(t,function(t,n,s){i(t,n,s)&&o.push(t)});return o}function A(t,i,n){if(i&&"undefined"==typeof n&&Li(t))for(var o=-1,s=t.length;++o<s&&i(t[o],o,t)!==!1;);else Ri(t,i,n);return t}function w(i,n,o){var s=-1/0,r=s;if("function"!=typeof n&&o&&o[n]===i&&(n=null),null==n&&Li(i))for(var a=-1,h=i.length;++a<h;){var l=i[a];l>r&&(r=l)}else n=null==n&&v(i)?t:e.createCallback(n,o,3),Ri(i,function(t,i,o){var e=n(t,i,o);e>s&&(s=e,r=t)});return r}function P(i,n,o){var s=1/0,r=s;if("function"!=typeof n&&o&&o[n]===i&&(n=null),null==n&&Li(i))for(var a=-1,h=i.length;++a<h;){var l=i[a];r>l&&(r=l)}else n=null==n&&v(i)?t:e.createCallback(n,o,3),Ri(i,function(t,i,o){var e=n(t,i,o);s>e&&(s=e,r=t)});return r}function j(t){var i=t?t.length:0;return"number"==typeof i?i:zi(t).length}function T(t,i){return arguments.length>2?u(t,17,s(arguments,2),null,i):u(t,1,null,null,i)}function S(t,i,n){var o=typeof t;if(null==t||"function"==o)return h(t,i,n);if("object"!=o)return z(t);var s=zi(t),e=s[0],r=t[e];return 1!=s.length||r!==r||m(r)?function(i){for(var n=s.length,o=!1;n--&&(o=p(i[s[n]],t[s[n]],null,!0)););return o}:function(t){var i=t[e];return r===i&&(0!==r||1/r==1/i)}}function L(t){return t}function O(){}function z(t){return function(i){return i[t]}}var E,F,R,C,M,B,I,W;W=function(t){var i,n,o,s;for(i=1/0,o=0,s=t.length;s>o;o++)n=t[o],null!=n&&i>n&&(i=n);return 1/0===i?null:i},I=function(t){var i,n,o,s;for(i=-1/0,o=0,s=t.length;s>o;o++)n=t[o],null!=n&&n>i&&(i=n);return i===-1/0?null:i},Number.prototype.format=F=function(t,i,n){var o,s,e,r,a;return null==i&&(i="."),null==n&&(n=","),s=(this+"").replace(/[^0-9+\-Ee.]/g,""),"-99999.99"===s||null==s?"-":(o=isFinite(+s)?+s:0,e=isFinite(+t)?Math.abs(t):0,s>1e9?(s/1e9).format(t)+"B":s>1e6?(s/1e6).format(t)+"M":s>1e3?(s/1e3).format(t)+"K":(a=function(t,i){var n;return n=Math.pow(10,i),""+Math.round(t*n)/n},r=(e?a(o,e):""+Math.round(o)).split("."),r[0].length>3&&(r[0]=r[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,n)),(r[1]||"").length<e&&(r[1]=r[1]||"",r[1]+=new Array(e-r[1].length+1).join("0")),r.join(i)))},M=function(t,i,n){return"#"+((1<<24)+(t<<16)+(i<<8)+n).toString(16).slice(1)},R=function(t){var i;return i=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(t),i?{r:parseInt(i[1],16),g:parseInt(i[2],16),b:parseInt(i[3],16)}:null},E=function(t,i){var n,o,s,e,r,a,h,l,p,c,u,d,f;if(t||i)return u="#"===t.charAt(0)?t.substring(1,7):t,c="#"===i.charAt(0)?i.substring(1,7):i,f=parseInt(u.substring(0,2),16),d=parseInt(u.substring(2,4),16),p=parseInt(u.substring(4,6),16),l=parseInt(c.substring(0,2),16),h=parseInt(c.substring(2,4),16),a=parseInt(c.substring(4,6),16),n=f/255*100,o=d/255*100,s=p/255*100,e=Math.round((n+o+s)/3),n=l/255*100,o=h/255*100,s=a/255*100,r=Math.round((n+o+s)/3),Math.abs(e-r)},B=function(t){return t.forEach(function(t){return t.forEach(function(i,n){return void 0!==i&&null!==i?t[n]=parseFloat(i.toFixed(2)):void 0})})},C=function(t){var i,n,o,s,e,r;o={};for(i in t)s=t[i],r=i.split("-"),e=r[0],n=r[1],1===n.length&&(n="0"+n),o[""+e+"-"+n]=s;return o},Date.prototype.add=function(t,i){return"days"===i?this.setDate(this.getDate()+t):"months"===i?this.setMonth(this.getMonth()+t):this.setYear(this.getYear()+t)},Date.prototype.diffMonth=function(t){var i,n;return i=this,n=12*(i.getFullYear()-t.getFullYear()),n-=t.getMonth()+1,n+=i.getMonth(),0>n&&(n=0),n};var D=[],N={},H=40,Y=/^\s*function[ \n\r\t]+\w/,K=/\bthis\b/,V=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],q="[object Arguments]",G="[object Array]",J="[object Boolean]",$="[object Date]",X="[object Error]",Q="[object Function]",U="[object Number]",Z="[object Object]",ti="[object RegExp]",ii="[object String]",ni={configurable:!1,enumerable:!1,value:null,writable:!1},oi={args:"",array:null,bottom:"",firstArg:"",init:"",keys:null,loop:"",shadowedProps:null,support:null,top:"",useHas:!1},si={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},ei=si[typeof window]&&window||this,ri=si[typeof exports]&&exports&&!exports.nodeType&&exports,ai=si[typeof module]&&module&&!module.nodeType&&module,hi=(ai&&ai.exports===ri&&ri,si[typeof global]&&global);!hi||hi.global!==hi&&hi.window!==hi||(ei=hi);var li=[],pi=Error.prototype,ci=Object.prototype,ui=String.prototype,di=ci.toString,fi=RegExp("^"+String(di).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),gi=Function.prototype.toString,xi=f(xi=Object.getPrototypeOf)&&xi,yi=ci.hasOwnProperty,mi=li.push,vi=ci.propertyIsEnumerable,_i=li.unshift,bi=function(){try{var t={},i=f(i=Object.defineProperty)&&i,n=i(t,t,t)&&i}catch(o){}return n}(),Ai=f(Ai=Object.create)&&Ai,wi=f(wi=Array.isArray)&&wi,ki=f(ki=Object.keys)&&ki,Pi={};Pi[G]=Pi[$]=Pi[U]={constructor:!0,toLocaleString:!0,toString:!0,valueOf:!0},Pi[J]=Pi[ii]={constructor:!0,toString:!0,valueOf:!0},Pi[X]=Pi[Q]=Pi[ti]={constructor:!0,toString:!0},Pi[Z]={constructor:!0},function(){for(var t=V.length;t--;){var i=V[t];for(var n in Pi)yi.call(Pi,n)&&!yi.call(Pi[n],i)&&(Pi[n][i]=!1)}}();var ji=e.support={};!function(){var t=function(){this.x=1},i={0:1,length:1},n=[];t.prototype={valueOf:1,y:1};for(var o in new t)n.push(o);for(o in arguments);ji.argsClass=di.call(arguments)==q,ji.argsObject=arguments.constructor==Object&&!(arguments instanceof Array),ji.enumErrorProps=vi.call(pi,"message")||vi.call(pi,"name"),ji.enumPrototypes=vi.call(t,"prototype"),ji.funcDecomp=!f(ei.WinRTError)&&K.test(function(){return this}),ji.funcNames="string"==typeof Function.name,ji.nonEnumArgs=0!=o,ji.nonEnumShadows=!/valueOf/.test(n),ji.ownLast="x"!=n[0],ji.spliceObjects=(li.splice.call(i,0,1),!i[0]),ji.unindexedChars="x"[0]+Object("x")[0]!="xx";try{ji.nodeClass=!(di.call(document)==Z&&!({toString:0}+""))}catch(s){ji.nodeClass=!0}}(1);var Ti=function(t){var i="var index, iterable = "+t.firstArg+", result = "+t.init+";\nif (!iterable) return result;\n"+t.top+";";t.array?(i+="\nvar length = iterable.length; index = -1;\nif ("+t.array+") {  ",ji.unindexedChars&&(i+="\n  if (isString(iterable)) {\n    iterable = iterable.split('')\n  }  "),i+="\n  while (++index < length) {\n    "+t.loop+";\n  }\n}\nelse {  "):ji.nonEnumArgs&&(i+="\n  var length = iterable.length; index = -1;\n  if (length && isArguments(iterable)) {\n    while (++index < length) {\n      index += '';\n      "+t.loop+";\n    }\n  } else {  "),ji.enumPrototypes&&(i+="\n  var skipProto = typeof iterable == 'function';\n  "),ji.enumErrorProps&&(i+="\n  var skipErrorProps = iterable === errorProto || iterable instanceof Error;\n  ");var n=[];if(ji.enumPrototypes&&n.push('!(skipProto && index == "prototype")'),ji.enumErrorProps&&n.push('!(skipErrorProps && (index == "message" || index == "name"))'),t.useHas&&t.keys)i+="\n  var ownIndex = -1,\n      ownProps = objectTypes[typeof iterable] && keys(iterable),\n      length = ownProps ? ownProps.length : 0;\n\n  while (++ownIndex < length) {\n    index = ownProps[ownIndex];\n",n.length&&(i+="    if ("+n.join(" && ")+") {\n  "),i+=t.loop+";    ",n.length&&(i+="\n    }"),i+="\n  }  ";else if(i+="\n  for (index in iterable) {\n",t.useHas&&n.push("hasOwnProperty.call(iterable, index)"),n.length&&(i+="    if ("+n.join(" && ")+") {\n  "),i+=t.loop+";    ",n.length&&(i+="\n    }"),i+="\n  }    ",ji.nonEnumShadows){for(i+="\n\n  if (iterable !== objectProto) {\n    var ctor = iterable.constructor,\n        isProto = iterable === (ctor && ctor.prototype),\n        className = iterable === stringProto ? stringClass : iterable === errorProto ? errorClass : toString.call(iterable),\n        nonEnum = nonEnumProps[className];\n      ",k=0;7>k;k++)i+="\n    index = '"+t.shadowedProps[k]+"';\n    if ((!(isProto && nonEnum[index]) && hasOwnProperty.call(iterable, index))",t.useHas||(i+=" || (!nonEnum[index] && iterable[index] !== objectProto[index])"),i+=") {\n      "+t.loop+";\n    }      ";i+="\n  }    "}return(t.array||ji.nonEnumArgs)&&(i+="\n}"),i+=t.bottom+";\nreturn result"};Ai||(a=function(){function t(){}return function(i){if(m(i)){t.prototype=i;var n=new t;t.prototype=null}return n||ei.Object()}}());var Si=bi?function(t,i){ni.value=i,bi(t,"__bindData__",ni)}:O;ji.argsClass||(x=function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&yi.call(t,"callee")&&!vi.call(t,"callee")||!1});var Li=wi||function(t){return t&&"object"==typeof t&&"number"==typeof t.length&&di.call(t)==G||!1},Oi=d({args:"object",init:"[]",top:"if (!(objectTypes[typeof object])) return result",loop:"result.push(index)"}),zi=ki?function(t){return m(t)?ji.enumPrototypes&&"function"==typeof t||ji.nonEnumArgs&&t.length&&x(t)?Oi(t):ki(t):[]}:Oi,Ei={args:"collection, callback, thisArg",top:"callback = callback && typeof thisArg == 'undefined' ? callback : baseCreateCallback(callback, thisArg, 3)",array:"typeof length == 'number'",keys:zi,loop:"if (callback(iterable[index], index, collection) === false) return result"},Fi={top:"if (!objectTypes[typeof iterable]) return result;\n"+Ei.top,array:!1},Ri=d(Ei),Ci=d(Ei,Fi,{useHas:!1}),Mi=d(Ei,Fi);y(/x/)&&(y=function(t){return"function"==typeof t&&di.call(t)==Q});var Bi=xi?function(t){if(!t||di.call(t)!=Z||!ji.argsClass&&x(t))return!1;var i=t.valueOf,n=f(i)&&(n=xi(i))&&xi(n);return n?t==n||xi(t)==n:g(t)}:g;e.bind=T,e.createCallback=S,e.filter=b,e.forEach=A,e.forIn=Ci,e.forOwn=Mi,e.keys=zi,e.max=w,e.merge=_,e.min=P,e.property=z,e.each=A,e.select=b,e.identity=L,e.isArguments=x,e.isArray=Li,e.isFunction=y,e.isObject=m,e.isPlainObject=Bi,e.isString=v,e.noop=O,e.size=j,e.VERSION="2.4.1",ei._jcld||(ei._jcld=e);var Ii;Ii=function(){function t(t,i,n,o){this.canvas=t,this.data=i,this.options=null!=n?n:null,this.ipo=o,this.options=_jcld.merge({chart:{width:1060,height:480,paddingLeft:5,paddingTop:5,paddingRight:5,paddingBottom:5,lineWidth:2,font:{style:"normal",weight:"400",size:"13px",family:"Arial,sans-serif"},color:"#888",background:"#ffffff",stretch:!1,padNulls:{left:null,right:null}},graph:{border:!0,marginLeftIfDecimalPoints:50,marginLeft:"auto",marginBottom:25,marginTop:5,marginRight:20,background:"#ffffff",background_stripe:"#FCFCFC"}},this.options),null==this.options&&(this.options={}),this.ctx=this.canvas.getContext("2d"),this.options.debug===!0&&this.rect(this.ctx,0,0,this.ctx.canvas.width,this.ctx.canvas.height,0),this.device_ratio="undefined"!=typeof window?this.scaleRatio(this.canvas):1,void 0===this.ctx.setLineDash&&(this.ctx.setLineDash=function(){})}return t.prototype.canvas=null,t.prototype.ctw=null,t.prototype.position={},t.prototype.scaleRatio=function(t){var i,n,o,s,e,r;return n=t.getContext("2d"),o=window.devicePixelRatio<1||void 0===window.devicePixelRatio?1:window.devicePixelRatio,i=n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1,r=o/i,o!==i&&(e=t.width,s=t.height,t.width=e*r,t.height=s*r,t.style.width=e+"px",t.style.height=s+"px",n.scale(r,r)),r},t.prototype.process_legend=function(){var t,i,n,o,s,e,r,a,h;for(n=this.options.legend.width,o=2*parseInt(this.options.legend.font.size.replace("px","")),t=_jcld.filter(this.data,function(t){return t.legend!==!1}),h=[],r=0,a=t.length;a>r;r++)i=t[r],s=this.options.chart.width/2+(r+1-(t.length+1)/2)*n,e=this.options.chart.height-this.options.chart.paddingBottom+this.options.legend.marginTop,this.ctx.fillStyle=this.options.legend.color||this.options.chart.color,this.ctx.font=this.font_format(this.options.legend.font),this.ctx.textAlign="center",this.ctx.textBaseline="top",this.ctx.fillText(i.name,s,e),this.ctx.strokeStyle=i.style.color,this.ctx.lineWidth=this.options.legend.lineWidth,this.ctx.setLineDash("dashed"===i.style.line?this.options.line_dash:[]),this.ctx.beginPath(),this.ctx.moveTo(s-n/2.5,e+o),this.ctx.lineTo(s+n/2.5,e+o),h.push(this.ctx.stroke());return h},t.prototype.addLabel=function(t,i){var n,o,s;switch(null==i&&(i={}),i=_jcld.merge({font:{style:this.options.chart.font.style,weight:this.options.chart.font.weight,size:this.options.chart.font.size,family:this.options.chart.font.family},color:this.options.chart.color,background:null,textAlign:"left",textBaseline:"middle",verticalAlign:"middle",x:0,y:0,width:200,height:50},i),null!=i.background&&(this.ctx.fillStyle=i.background,this.ctx.fillRect(i.x,i.y,i.width,i.height)),n=this.font_format(i.font),this.ctx.font=n,this.ctx.fillStyle=i.color,this.ctx.textBaseline=i.textBaseline,this.ctx.textAlign=i.textAlign,i.textAlign){case"left":o=i.x;break;case"center":o=i.x+i.width/2;break;case"right":o=i.x}switch(i.verticalAlign){case"top":s=i.y;break;case"middle":s=i.y+i.height/2;break;case"bottom":s=i.y+i.height}return this.ctx.fillText(t,o,s)},t.prototype.httpOut=function(t){var i;return t.contentType("image/png"),i=this.canvas.createPNGStream(),i.on("data",function(i){return t.write(i)}),i.on("end",function(){return t.end()})},t.prototype.writeFile=function(){},t.prototype.rect=function(t,i,n,o,s,e,r,a){return null==e&&(e=0),void 0===a&&(a=!0),void 0===e&&(e=5),t.beginPath(),t.moveTo(i+e,n),t.lineTo(i+o-e,n),t.quadraticCurveTo(i+o,n,i+o,n+e),t.lineTo(i+o,n+s-e),t.quadraticCurveTo(i+o,n+s,i+o-e,n+s),t.lineTo(i+e,n+s),t.quadraticCurveTo(i,n+s,i,n+s-e),t.lineTo(i,n+e),t.quadraticCurveTo(i,n,i+e,n),t.closePath(),a&&t.stroke(),r?t.fill():void 0},t.prototype.auto_format=function(t,i){var n;return null!=i?t.format(i):(n=this.max_data-this.min_data,i=n>this.options.yAxis.breaks+2&&1e6>t?0:n>1?1:2,t.format(i))},t.prototype.font_format=function(t){var i;return t=_jcld.merge(this.options.chart.font,t),i=" ",t.weight+i+t.style+i+t.size+i+t.family},t}(),"undefined"!=typeof module&&module.exports?module.exports=Ii:this.Jchart=Ii;var Wi,Di={}.hasOwnProperty,Ni=function(t,i){function n(){this.constructor=t}for(var o in i)Di.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};Wi=function(t){function i(t,n,o,s){this.canvas=t,this.data=n,this.options=null!=o?o:null,this.ipo=s,this.options=_jcld.merge({legend:{width:75,lineWidth:2,font:{style:"italic",weight:"400",size:"11px"},color:"rgba(0,0,0,0.3)",enable:!0,layout:"horizontal",marginTop:35,marginBottom:0},xAxis:{data:[],title:"",border:{enable:!0,color:"#888"},grid:{enable:!0,align:"margin",type:"dash",dashStyled:[2,1],color:this.options.chart.color,lineWidth:1},tick:{enable:!0,align:"margin",size:10},label:{enable:!0,align:"margin",font:{},color:"#000",prefix:"",suffix:""},min:null,max:null,breaks:5},yAxis:{data:[],title:"",border:{enable:!0,color:"#888"},grid:{enable:!1,align:"margin",type:"solid",dashStyled:[2,1],color:this.options.chart.color,lineWidth:5},tick:{enable:!0,size:10},label:{enable:!0,align:"left",font:{},color:"#000",prefix:"",suffix:""},min:null,max:null,breaks:5,rightAlign:!1,scopedRange:!1}},this.options),i.__super__.constructor.call(this,this.canvas,this.data,this.options,this.ipo)}return Ni(i,t),i.prototype.convertToJChartArray=function(t,i){var n,o,s,e,r,a,h,l,p,c,u,d,f,g,x,y,m,v,_,b,A,w,k,P,j,T,S,L,O,z,E,F,R,M,B;for(d={},k=C(t),l=Object.keys(k),s=l[0],r=0,S=0,E=l.length;E>S;S++){if(a=l[S],p=l[r-1],p&&(w=p.split("-"),1===w[1].length&&(w[1]="0"+w[1]),p=w.join("-")),null!=k[a]&&null!=k[p])for(c=k[p].value,P=k[a].value,A=new Date(""+p),d[p]={},d[p][i]=c,o=new Date(""+a).diffMonth(new Date(""+p))+1,u=L=1;(o>=1?o>=L:L>=o)&&!(A>a);u=o>=1?++L:--L)A.add(1,"months"),g=parseInt(A.getMonth())+1,1===g.toString().length&&(g="0"+g),h=A.getFullYear()+"-"+g,d[h]={},d[h][i]=null,null===c?d[h][i]=null:(P||0===P)&&(d[h][i]=c+(P-c)/o*u),d[h]<0&&(d[h][i]=0);r++}for(n=null,b=null,y=0,m=0,f=[],f.push(null),e=[],e.push(null),_=[],_.push(null),B=this.options.xAxis.data,O=0,F=B.length;F>O;O++)for(T=B[O],v=z=1;12>=z;v=++z)g=v,1===g.toString().length&&(g="0"+g),a=T+"-"+g,e.push(a),d.hasOwnProperty(a)&&(n=d[a][i],"formatted"===i&&(n=null===n||void 0===n?null:n.toFixed(2)),y=0),y++,t.hasOwnProperty(a)&&(b=t[a][i],m=0),m++,f.push(n),_.push(b);for(x=1,a=M=0,R=f.length;R>M&&(j=f[a],y>x);a=++M)f[f.length-1-a]=null,x++;return{newValuesArray:f,nullPadRight:y,hasedIndexArray:e,originalArrayFill:_}},i.prototype.normalize_data=function(){var t,i,n,o,s,e,r,a,h,l,p,c,u,d,f,g,x,y,m,v,_,b,A,w,k,P,j,T,S,L,O,z,E,F,R,C,M,W,D,N,H,Y,K,V,q,G,J;for(0===this.options.xAxis.data.length&&(this.options.xAxis.data=[(new Date).getFullYear()]),r=[],b=[],M=this.data,e=A=0,j=M.length;j>A;e=++A)n=M[e],Array.isArray(n.data)||(r=r.concat(Object.keys(n.data)));for(w=0,T=r.length;T>w;w++)s=r[w],b.push(parseInt(s.substring(0,s.indexOf("-"))));for(this.options.xAxis.hash_min_year=_jcld.min(b),this.options.xAxis.hash_max_year=_jcld.max(b),u=[],l=[],this.options.xAxis.hash_min_year<_jcld.min(this.options.xAxis.data)&&(_=_jcld.min(this.options.xAxis.data)-this.options.xAxis.hash_min_year,i=this.options.xAxis.hash_min_year,u=Array.apply(null,{length:_}).map(Number.call,function(){return i++}),this.options.xAxis.padMinArraySize=12*_,this.options.xAxis.padMinArray=!0),this.options.xAxis.hash_max_year>_jcld.max(this.options.xAxis.data)&&(_=this.options.xAxis.hash_max_year-_jcld.max(this.options.xAxis.data),i=_jcld.max(this.options.xAxis.data),l=Array.apply(null,{length:_}).map(Number.call,function(){return++i}),this.options.xAxis.padMaxArraySize=12*_,this.options.xAxis.padMaxArray=!0),g=u.concat(this.options.xAxis.data,l),this.options.xAxis.data=g,v=[],x=[],y=[],W=this.data,e=k=0,S=W.length;S>k;e=++k)if(n=W[e],Array.isArray(n.data))this.options.xAxis.hasOwnProperty("padMinArray")&&(u=Array.apply(null,{length:this.options.xAxis.padMinArraySize}).map(Number.call,function(){return null}),f=u.concat(n.data),this.data[e].data=f,null!==this.ipo&&(this.ipo=this.ipo+this.options.xAxis.padMinArraySize/2)),this.options.xAxis.hasOwnProperty("padMaxArray")&&(l=Array.apply(null,{length:this.options.xAxis.padMaxArraySize}).map(Number.call,function(){return null}),d=n.data.concat(l),this.data[e].data=d),v.push(n.data);else{try{this.data[e].formatted=this.convertToJChartArray(n.data,"formatted").newValuesArray}catch($){}this.data[e].original_data=n.data,o={},Object.keys(n.data).forEach(function(t){var i,s;return"string"==typeof t?(s=t.split("-"),1===s[1].length&&(s[1]="0"+s[1]),i=s.join("-"),o[i]=n.data[t]):void 0}),this.data[e].formattedKeys=o,t=this.convertToJChartArray(n.data,"value"),this.data[e].data=t.newValuesArray,this.data[e].nullPadRight=t.nullPadRight,this.data[e].hasedIndexArray=t.hasedIndexArray,this.data[e].originalArrayFill=t.originalArrayFill,v.push(n.data),y.push(this.data[e].nullPadRight)}if(h=_jcld.max(this.data,function(t){return I(t.data)}),a=_jcld.max(h.data),a>=1&&B(v),this.options.chart.stretch){for(D=this.data,e=P=0,L=D.length;L>P;e=++P)n=D[e],n.nullPadLeft=0,n.data.some(function(t){return null===t?(n.nullPadLeft++,!1):!0}),x.push(n.nullPadLeft);p=_jcld.min(x),c=_jcld.min(y),N=this.data,J=[];for(e in N)if(n=N[e],void 0===n.processed_data){if(n.processed_data=n.data.slice(),n.processed_data.splice(0,p),n.processed_data.splice(n.processed_data.length+1-c,c),null!==this.options.chart.padNulls.left)for(m=O=1,H=this.options.chart.padNulls.left;H>=1?H>=O:O>=H;m=H>=1?++O:--O)n.processed_data.unshift(null);if(null!==this.options.chart.padNulls.right)for(m=z=1,Y=this.options.chart.padNulls.right;Y>=1?Y>=z:z>=Y;m=Y>=1?++z:--z)n.processed_data.push(null);if(n.data=n.processed_data,n.processed_hased_index=n.hasedIndexArray.slice(),n.processed_hased_index.splice(0,p),n.processed_hased_index.splice(n.processed_hased_index.length+1-c,c),null!==this.options.chart.padNulls.left)for(m=E=1,K=this.options.chart.padNulls.left;K>=1?K>=E:E>=K;m=K>=1?++E:--E)n.processed_hased_index.unshift(null);if(null!==this.options.chart.padNulls.right)for(m=F=1,V=this.options.chart.padNulls.right;V>=1?V>=F:F>=V;m=V>=1?++F:--F)n.processed_hased_index.push(null);if(n.hasedIndexArray=n.processed_hased_index,n.processed_originalArrayFill=n.originalArrayFill.slice(),n.processed_originalArrayFill.splice(0,p),n.processed_originalArrayFill.splice(n.processed_originalArrayFill.length+1-c,c),null!==this.options.chart.padNulls.left)for(m=R=1,q=this.options.chart.padNulls.left;q>=1?q>=R:R>=q;m=q>=1?++R:--R)n.processed_originalArrayFill.unshift(null);if(null!==this.options.chart.padNulls.right)for(m=C=1,G=this.options.chart.padNulls.right;G>=1?G>=C:C>=G;m=G>=1?++C:--C)n.processed_originalArrayFill.push(null);J.push(n.originalArrayFill=n.processed_originalArrayFill)}else n.data=n.processed_data,n.processed_hased_index=n.hasedIndexArray,J.push(n.processed_originalArrayFill=n.originalArrayFill);return J}},i.prototype.preprocess_data=function(){var t,i,n,o,s,e,r,a,h,l,p,c,u,d,f,g,x,y,m,v;for(null!=this.options.yAxis.min&&(this.min_data=this.options.yAxis.min),null!=this.options.yAxis.max&&(this.max_data=this.options.yAxis.max),(null==this.options.yAxis.min||null==this.options.yAxis.max)&&(p=_jcld.min(this.data,function(t){return W(t.data)}),l=_jcld.min(p.data),a=_jcld.max(this.data,function(t){return I(t.data)}),e=_jcld.max(a.data),c=.1*(e-l),this.options.yAxis.scopedRange===!0&&(l=_jcld.min(p.data,function(t){return null!==t?l=t:void 0}),l-=c),0===c&&(c=this.options.yAxis.breaks),c=0,null==this.options.yAxis.max&&(this.max_data=e+c),null==this.options.yAxis.min&&(this.min_data=l)),u=Math.pow(10,Math.floor(Math.log(this.max_data)/Math.log(10))),i=this.max_data/u,s=i-Math.floor(i)<.5&&i-Math.floor(i)>0,r=Math.ceil(i)*u,s&&(r-=u/2),this.max_data=r,"auto"===this.options.graph.marginLeft&&(this.auto_format(this.max_data).indexOf(".")>0?this.options.graph.marginLeft=this.options.graph.marginLeftIfDecimalPoints:(this.max_data>10&&(this.max_data=Math.round(this.max_data)),h=this.options.yAxis.label.prefix+this.auto_format(this.max_data)+this.options.yAxis.label.suffix,n=h.replace(".","").length,this.options.graph.marginLeft=10+8*n+this.options.yAxis.tick.size)),this.graph_width=this.options.chart.width-this.options.chart.paddingLeft-this.options.chart.paddingRight,this.graph_height=this.options.chart.height-this.options.chart.paddingTop-this.options.chart.paddingBottom,this.interval=this.max_data-this.min_data,this.inner_width=this.graph_width-(this.options.graph.marginLeft+this.options.graph.marginRight),this.inner_height=this.graph_height-(this.options.graph.marginTop+this.options.graph.marginBottom),this.pl=this.options.chart.paddingLeft,this.pt=this.options.chart.paddingTop,m=this.data,f=0,x=m.length;x>f;f++)for(o=m[f],t=this.inner_width/(_jcld.size(o.data)-1),o.plot=[],v=o.data,g=0,y=v.length;y>g;g++)d=v[g],o.plot.push(null!=d?{x:this.pl+g*t+this.options.graph.marginLeft,y:this.pt+this.inner_height-(d-this.min_data)/this.interval*this.inner_height+this.options.graph.marginTop}:null);return this.xAxiz_zero_position=this.pt+this.inner_height-(0-this.min_data)/this.interval*this.inner_height+this.options.graph.marginTop,this.options.yAxis.scopedRange===!0?this.xAxiz_zero_position=this.pt+this.graph_height-this.options.graph.marginBottom:void 0},i.prototype.preprocess_style=function(){var t;return this.ctx.font=this.font_format(this.options.chart.font),this.options.legend.enable?(t=2*parseInt(this.options.legend.font.size.replace("px",""))+this.options.legend.marginTop+this.options.legend.marginBottom,this.options.chart.paddingBottom+=t):void 0},i.prototype.drawGraph=function(){var t,i,n,o;for(this.ctx.strokeStyle=this.options.chart.color,this.horizontal_line(),this.vertical_line(),this.volume&&this.drawVolume(this.volume),o=this.data,i=0,n=o.length;n>i;i++)t=o[i],this.addLine(t);return null!=this.ipo&&this.addFlag(this.ipo,"IPO\nDATE"),this.options.legend.enable?this.process_legend():void 0},i.prototype.horizontal_line=function(){var t,i,n,o,s,e,r,a,h,l,p;for(n=this.max_data-this.min_data,s=this.options.yAxis.breaks,this.ctx.beginPath(),t=this.graph_height-(this.options.graph.marginTop+this.options.graph.marginBottom),i=l=0,p=this.options.yAxis.breaks;p>=0?p>=l:l>=p;i=p>=0?++l:--l)r=this.min_data+n/s*i,a=t-t/s*i+this.options.graph.marginTop,this.options.graph.background_stripe&&i%2===0&&(this.ctx.fillStyle=this.options.graph.background_stripe,this.ctx.fillRect(this.pl+this.options.graph.marginLeft+this.options.chart.lineWidth,this.pt+a-t/s-this.options.chart.lineWidth-1,this.pl+this.inner_width-this.options.chart.paddingRight,this.pt+t/s-this.options.chart.lineWidth-1)),this.options.yAxis.grid.enable&&(this.ctx.strokeStyle=this.options.yAxis.grid.color,"dash"===this.options.yAxis.grid.type&&this.ctx.setLineDash(this.options.yAxis.grid.dashStyled),this.ctx.beginPath(),this.ctx.moveTo(this.pl+this.options.graph.marginLeft,this.pt+a),this.ctx.lineTo(this.pl+this.graph_width,this.pt+a,2),this.ctx.stroke(),this.ctx.setLineDash([]),this.ctx.strokeStyle=this.options.chart.color),this.options.yAxis.label.enable&&(this.ctx.fillStyle=this.options.yAxis.label.color||this.options.chart.label.color,this.ctx.font=this.font_format(this.options.yAxis.label.font),o=this.options.yAxis.rightAlign?this.graph_width-this.options.graph.marginRight+this.options.graph.marginLeft+this.options.chart.lineWidth+this.options.yAxis.tick.size:this.options.graph.marginLeft,"left"===this.options.yAxis.label.align?(this.ctx.textAlign="right",this.ctx.textBaseline=this.options.yAxis.label.textBaseline||"middle",h=this.options.yAxis.label.offset||-12,e=this.pl+o+h,this.options.yAxis.tick.enable&&(e-=this.options.yAxis.tick.size)):(this.ctx.textAlign="left",this.ctx.textBaseline=this.options.yAxis.label.textBaseline||"bottom",e=this.pl+o),this.ctx.fillText(this.options.yAxis.label.prefix+this.auto_format(r)+this.options.yAxis.label.suffix,e,this.pt+a)),this.options.yAxis.tick.enable&&(o=this.options.yAxis.rightAlign?this.graph_width-this.options.graph.marginRight+this.options.yAxis.tick.size:this.options.graph.marginLeft,this.ctx.beginPath(),this.ctx.strokeStyle=this.options.chart.color,this.ctx.moveTo(this.pl+o-this.options.chart.lineWidth+1,this.pt+a),this.ctx.lineTo(this.pl+o-this.options.chart.lineWidth-this.options.yAxis.tick.size+1,this.pt+a),this.ctx.stroke(),this.ctx.closePath());return this.ctx.stroke(),this.options.xAxis.border.enable&&(this.ctx.strokeStyle=this.options.xAxis.border.color,this.ctx.lineWidth=this.options.chart.lineWidth,this.ctx.moveTo(this.pl+this.options.graph.marginLeft,this.xAxiz_zero_position),this.ctx.lineTo(this.pl+this.graph_width-this.options.graph.marginRight,this.xAxiz_zero_position),this.ctx.stroke()),this.ctx.closePath()},i.prototype.vertical_line=function(){var t,i,n,o,s,e,r,a,h,l,p;if(o=this.graph_width-(this.options.graph.marginLeft+this.options.graph.marginRight),this.ctx.beginPath(),this.ctx.textAlign="center",this.ctx.fillStyle=this.options.xAxis.color||this.options.chart.color,this.ctx.strokeStyle=this.options.xAxis.color||this.options.chart.color,e=this.options.xAxis.forceLabels||this.options.xAxis.data)for(t=o/e.length,a=0,h=e.length;h>a;a++)n=e[a],s=(a+1)*t+this.options.graph.marginLeft,r=this.graph_height-this.options.graph.marginBottom,this.options.xAxis.label.enable&&(this.ctx.fillStyle=this.options.xAxis.label.color||this.options.chart.label.color,this.ctx.font=this.font_format(this.options.xAxis.label.font),l=s,"center"===this.options.xAxis.label.align?l=s-t/2:"right"===this.options.xAxis.label.align&&(l=s),p=r+this.options.xAxis.tick.size,this.ctx.textBaseline="top",this.ctx.fillText(this.options.xAxis.label.prefix+n+this.options.xAxis.label.suffix,this.pl+l,this.pt+p)),this.options.xAxis.grid.enable&&(l="center"===this.options.xAxis.grid.align?s-t/2:s,this.ctx.strokeStyle=this.options.xAxis.grid.color,this.ctx.lineWidth=this.options.xAxis.grid.lineWidth,"dash"===this.options.xAxis.grid.type&&this.ctx.setLineDash(this.options.xAxis.grid.dashStyled),this.ctx.beginPath(),this.ctx.moveTo(this.pl+l,this.pt),this.ctx.lineTo(this.pl+l,this.pt+r),this.ctx.stroke(),this.ctx.setLineDash([]),this.ctx.strokeStyle=this.options.xAxis.color||this.options.chart.color),this.options.xAxis.tick.enable&&(l="center"===this.options.xAxis.tick.align?s-t/2:s,this.ctx.beginPath(),this.ctx.lineWidth=this.options.chart.lineWidth,this.ctx.moveTo(this.pl+l,this.pt+r),this.ctx.lineTo(this.pl+l,this.pt+r+this.options.xAxis.tick.size),this.graph_width-this.options.graph.marginRight!==l&&this.ctx.stroke());
return this.options.yAxis.border.enable&&(i=this.options.yAxis.rightAlign?this.graph_width-this.options.graph.marginRight:this.options.graph.marginLeft,this.ctx.strokeStyle=this.options.yAxis.border.color,this.ctx.lineWidth=this.options.chart.lineWidth,this.ctx.moveTo(this.pl+i,this.pt),this.ctx.lineTo(this.pl+i,this.pt+this.graph_height-this.options.graph.marginBottom),this.ctx.stroke()),this.ctx.closePath()},i}(Ii);var Hi,Di={}.hasOwnProperty,Ni=function(t,i){function n(){this.constructor=t}for(var o in i)Di.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};Hi=function(t){function i(t,n,o,s,e){var r;this.canvas=t,this.data=n,this.options=null!=o?o:null,this.ipo=s,this.volume=e,this.options=_jcld.merge({line_dash:[6,2]},this.options),i.__super__.constructor.call(this,this.canvas,this.data,this.options,this.ipo,this.volume),this.normalize_data(),this.draw(),(null!=(r=this.options.chart.linePoint)?r.enable:void 0)===!0&&this.addMouseHoverEvent()}return Ni(i,t),i.prototype.draw=function(){return this.preprocess_style(),this.preprocess_data(),this.drawGraph()},i.prototype.addLine=function(t){return this.draw_line_graph(t)},i.prototype.addMouseHoverEvent=function(){var t,i,n,o,s,e,r,a,h,l,p,c,u,d,f,g,x;for(t=[],a=[],d=this.data,l=0,c=d.length;c>l;l++)for(i=d[l],r=Object.keys(i.formattedKeys).map(function(t){return Object.assign(i.formattedKeys[t],{date:t})}),a=a.concat(r),e=i.style.lineWidth||2,s=0,n=!1,f=i.plot,p=0,u=f.length;u>p;p++)h=f[p],null!=h&&(n?(o=null!=(g=i.formattedKeys)?g[null!=(x=i.hasedIndexArray)?x[s]:void 0]:void 0,void 0!==o&&t.push({plot:h,lineWidth:e})):(t.push({plot:h,lineWidth:e}),n=!0)),s++;return this.canvas.addEventListener("mousemove",function(i){var n,o,s,r,l,p,c,u,d,f;if(l=this.canvas.getBoundingClientRect(),p=i.clientX-l.left,c=i.clientY-l.top,t.length>0){for(s=0,u=0,d=t.length;d>u;u++){if(n=t[u],e=parseInt(n.lineWidth,10),h=n.plot,r=parseInt((null!=(f=this.options.chart.linePoint)?f.size:void 0)||5,10),r+=e,p>=h.x-r&&p<=h.x+r&&c>=h.y-r&&c<=h.y+r)return o=new CustomEvent("data-hover",{detail:{status:"on",data:a[s],position:h}}),void this.canvas.dispatchEvent(o);s++}return o=new CustomEvent("data-hover",{detail:{status:"off"}}),this.canvas.dispatchEvent(o)}}.bind(this))},i.prototype.draw_line_graph=function(t){var i,n,o,s,e,r,a,h,l,p,c,u,d,f,g,x,y,m;for(t.style.fill_area&&this.fillArea(t),this.ctx.beginPath(),this.ctx.lineWidth=t.style.lineWidth||2,this.ctx.strokeStyle=t.style.color||"#000",this.ctx.fillStyle=t.style.color||"#000",this.ctx.setLineDash("dashed"===t.style.line?this.options.line_dash:[]),r=0,i=[],s=0,n=!1,u=t.plot,h=0,p=u.length;p>h;h++)a=u[h],null!=a?(r=0,n||(i.push(a),n=!0),"point"===t.style.line?this.ctx.fillRect(a.x,a.y,3,3):(this.ctx.lineTo(a.x,a.y),o=null!=(d=t.formattedKeys)?d[null!=(f=t.hasedIndexArray)?f[s]:void 0]:void 0,void 0!==o&&i.push(a)),e=a):null!=a&&this.ctx.moveTo(a.x,a.y),null==a&&r++,s++;if(this.ctx.stroke(),this.ctx.closePath(),(null!=(g=this.options.chart.linePoint)?g.enable:void 0)===!0){for(this.ctx.setLineDash([]),this.ctx.fillStyle=(null!=(x=this.options.chart.linePoint)?x.fill:void 0)||"#FFF",m=[],l=0,c=i.length;c>l;l++)a=i[l],this.ctx.beginPath(),this.ctx.arc(a.x,a.y,(null!=(y=this.options.chart.linePoint)?y.size:void 0)||5,0,2*Math.PI),this.ctx.fill(),this.ctx.stroke(),m.push(this.ctx.closePath());return m}},i.prototype.addFlag=function(t,i){var n,o,s,e,r,a,h,l,p,c,u,d;return e=this.graph_width-(this.options.graph.marginLeft+this.options.graph.marginRight),n=e/_jcld.size(this.data[0].data),r=t*n+this.options.chart.paddingLeft+this.options.graph.marginLeft,a=this.graph_height-this.options.graph.marginBottom,this.ctx.lineWidth=1,this.ctx.strokeStyle=this.data[0].style.color,this.ctx.setLineDash([3,2]),this.ctx.beginPath(),this.ctx.moveTo(r,this.options.chart.paddingTop),this.ctx.lineTo(r,this.options.chart.paddingTop+a),this.ctx.stroke(),this.ctx.setLineDash([]),s=0,null!=(null!=(h=this.data[0])&&null!=(l=h.plot[t])?l.y:void 0)?(null!=(null!=(p=this.data[1])&&null!=(c=p.plot[t])?c.y:void 0)&&(o=Math.abs((this.data[1].plot[t].y-this.data[0].plot[t].y)/this.data[0].plot[t].y*100),15>o&&(s=(null!=(u=this.data[1].plot[t-1])?u.y:void 0)>(null!=(d=this.data[1])?d.plot[t].y:void 0)?-20:20)),(this.data[0].plot[t].y-this.pt)/this.inner_height*100>92&&(s-=15),(this.data[0].plot[t].y-this.pt)/this.inner_height*100<8&&(s+=15),this.options.chart.font.weight="normal",this.options.chart.font.size="13px",this.ctx.font=this.font_format(this.options.chart.font),this.ctx.fillStyle=this.data[0].style.color,this.ctx.textBaseline="bottom",this.ctx.textAlign="center",this.multiLine(this.ctx,i,r-3*n,this.data[0].plot[t].y+s)):void 0},i.prototype.multiLine=function(t,i,n,o){var s,e,r,a,h,l;for(r=i.split("\n"),s=this.options.chart.font.size.replace("px",""),l=[],a=0,h=r.length;h>a;a++)e=r[a],l.push(t.fillText(e,n,o+a*s));return l},i.prototype.shade=function(){var t,i,n,o,s,e,r,a,h,l,p,c,u,d,f,g,x,y,m,v,_,b;for(e=null,n="rgba(253, 115, 109, 0.4)",r="rgba(0, 183, 151, 0.4)",this.ctx.fillStyle=n,p=0,c=!1,b=[],h=x=0,v=this.data[0].plot.length;v>=0?v>=x:x>=v;h=v>=0?++x:--x)if(null!=this.data[0].plot[h]&&null!=this.data[1].plot[h]||c){if((null==this.data[0].plot[h]||null==this.data[1].plot[h])&&c){for(l=y=_=h-1;p>=_?p>=y:y>=p;l=p>=_?++y:--y)this.ctx.lineTo(this.data[1].plot[l].x,this.data[1].plot[l].y);this.ctx.closePath(),this.ctx.fillStyle=e?n:r,this.ctx.fill();break}if(null==this.data[0].plot[h]||null==this.data[1].plot[h]||c){if(i=this.data[0].plot[h].y<this.data[1].plot[h].y?!0:!1,a=null!=e&&e!==i?!0:!1){if(null!=this.data[0].plot[h-1]&&null!=this.data[1].plot[h-1]){for(f=this.data[0].plot[h-1].y,g=this.data[0].plot[h].y,t=f-W([f,g]),o=g-W([f,g]),s=this.data[0].plot[h].x-this.data[0].plot[h-1].x,u=this.data[0].plot[h-1].x+t*s/(t+o),d=W([f,g])+t*o/(t+o),this.ctx.lineTo(u,d),l=m=h;p>=h?p>=m:m>=p;l=p>=h?++m:--m)this.ctx.lineTo(this.data[1].plot[l].x,this.data[1].plot[l].y);this.ctx.closePath(),this.ctx.fillStyle=i?r:n,this.ctx.fill(),this.ctx.beginPath(),this.ctx.moveTo(this.data[0].plot[h-1].x,this.data[0].plot[h-1].y),this.ctx.lineTo(u,d),this.ctx.lineTo(this.data[0].plot[h].x,this.data[0].plot[h].y),p=h}}else this.ctx.lineTo(this.data[0].plot[h].x,this.data[0].plot[h].y);b.push(e=i)}else this.ctx.beginPath(),this.ctx.moveTo(this.data[0].plot[h].x,this.data[0].plot[h].y),b.push(c=!0)}else b.push(p=h+1);return b},i.prototype.fillArea=function(t){var i,n,o;return n=this.ctx,i=R(t.style.color)?R(t.style.color):t.style.color,n.fillStyle="rgba("+i.r+", "+i.g+", "+i.b+", 0.2)",n.globalCompositeOperation=this.options.chart.fillBlendMode||"multiply",n.beginPath(),o=[],t.plot.forEach(function(t){return t?o.push(t):void 0}),o.length?(n.beginPath(),n.moveTo(o[0].x,this.options.chart.height-(this.options.chart.paddingBottom+this.options.graph.marginBottom)),o.forEach(function(t){return n.lineTo(t.x,t.y)}),n.lineTo(o[o.length-1].x,this.options.chart.height-(this.options.chart.paddingBottom+this.options.graph.marginBottom)),n.closePath(),n.fill()):void 0},i.prototype.drawVolume=function(t){var i,n,o,s,e,r,a,h,l,p,c,u,d,f,g,x;for(o=this.ctx,e=_jcld.max(t.data),a=_jcld.min(t.data),s=e-a,l=this.graph_width-this.options.graph.marginLeft,r=(this.graph_height-(this.options.graph.marginTop+this.options.graph.marginTop))/5,i=this.options.chart.stretch?l/_jcld.size(this.data[0].processed_hased_index):l/_jcld.size(t.data),n=i/2,u=0,g=t.data,x=[],d=0,f=g.length;f>d;d++){if(h=g[d],null!=h)if(p=(u+1)*i-i/2+this.options.chart.paddingLeft+this.options.graph.marginLeft,c=this.options.chart.height-(h-a+1)/s*r-this.options.graph.marginBottom-this.options.chart.paddingBottom,o.fillStyle=t.color||"#000",this.options.chart.stretch)try{o.fillRect(this.data[0].plot[u].x-i/4,c,n,(h-a+1)/s*r-this.options.chart.lineWidth+1)}catch(y){}else o.fillRect(p-n/2,c,n,(h-a+1)/s*r-this.options.chart.lineWidth+1);x.push(u++)}return x},i}(Wi),Ii.line=Hi;var Yi,Di={}.hasOwnProperty,Ni=function(t,i){function n(){this.constructor=t}for(var o in i)Di.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};Yi=function(t){function i(t,n,o,s){this.canvas=t,this.data=n,this.options=null!=o?o:null,this.ipo=s,this.options=_jcld.merge({captionMargin:0},this.options),i.__super__.constructor.call(this,this.canvas,this.data,this.options,this.ipo),this.normalize_data(),this.draw()}return Ni(i,t),i.prototype.draw=function(){return this.preprocess_style(),this.preprocess_data(),this.drawGraph()},i.prototype.addLine=function(t){return this.draw_column_graph(t)},i.prototype.draw_column_graph=function(t){var i,n,o,s,e,r,a,h,l;for(i=this.inner_width/_jcld.size(t.data),n=i/2,this.ctx.textBaseline="bottom",h=t.data,l=[],r=0,a=h.length;a>r;r++)o=h[r],null!=o?(s=(r+1)*i+this.options.graph.marginLeft,("center"===this.options.xAxis.label.align||"center"===this.options.xAxis.tick.align)&&(s-=i/2),e=this.inner_height-(o-this.min_data)/this.interval*this.inner_height+this.options.graph.marginTop,this.ctx.fillStyle=t.style.color,this.ctx.fillRect(this.pl+s-n/2,this.pt+e,n,(o-this.min_data)/this.interval*this.inner_height-this.options.chart.lineWidth+1),t.caption?(this.ctx.fillStyle=this.options.chart.color,l.push(this.ctx.fillText(o.format(2),this.pl+s,this.pt+e-this.options.captionMargin))):l.push(void 0)):l.push(void 0);return l},i}(Wi),Ii.bar=Yi;var Ki,Di={}.hasOwnProperty,Ni=function(t,i){function n(){this.constructor=t}for(var o in i)Di.call(i,o)&&(t[o]=i[o]);return n.prototype=i.prototype,t.prototype=new n,t.__super__=i.prototype,t};Ki=function(t){function i(t,n,o){this.canvas=t,this.data=n,this.options=null!=o?o:null,i.__super__.constructor.call(this,this.canvas,this.data,this.options),this.build()}return Ni(i,t),i.prototype.build=function(){this.process(),this.draw(),this.events()},i.prototype.process=function(t){var i=this.data,n=0;i.forEach(function(t){n+=t.value}),i.all=n,i.forEach(function(o,s){var e=100*o.value/n,r=360*e/100;i[s].percent=e,i[s].degrees=r;var a=R(o.color);i[s].rgb=t&&0==E(o.color.toLowerCase(),M(t[0],t[1],t[2]).toLowerCase())?"rgba("+a.r+", "+a.g+", "+a.b+", 1.0)":"rgba("+a.r+", "+a.g+", "+a.b+", 0.7)"}),this.data=i},i.prototype.draw=function(){var t=this.ctx,i=this.data,n=this.options,o={degrees:0,radians:0},s=n.chart.width/2-(n.chart.paddingLeft+n.chart.paddingRight);i.forEach(function(i){var e=i.degrees+o.degrees,r=Math.PI/180*e;t.strokeStyle="#FFFFFF",t.fillStyle=i.rgb,t.lineWidth=3,t.beginPath(),t.arc(n.chart.width/2,n.chart.height/2,s,o.radians,r),t.stroke(),t.lineTo(n.chart.width/2,n.chart.height/2),t.closePath(),t.stroke(),t.fill(),o.degrees=e,o.radians=r})},i.prototype.events=function(){var t;this.canvas.addEventListener("mousemove",function(i){var n=this.ctx.getImageData(i.x,i.y,1,1).data;(void 0==t||M(n[0],n[1],n[2])!=M(t[0],t[1],t[2]))&&(this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height),this.process(n),this.draw()),t=n}.bind(this))},i}(Ii),Ii.pie=Ki}).call(this);